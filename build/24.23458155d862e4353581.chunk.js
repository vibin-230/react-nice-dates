(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{d7e19ec0e82eb61c5000:function(e,t,n){"use strict";n.r(t);var o,a=n("8af190b70a6bc55c6f1b"),i=n.n(a),r=n("0d7f0986bcd2f33d8a2a"),l=n("1037a6e0d5914309f74c"),s=n.n(l),c=n("4dd2a92e69dcbe1bab10"),d=n("ffe79a4c96e5f2b030ea"),f=n("44576350a42448f25ee0"),u=n("2aea235afd5c55b8b19b"),p=n.n(u),b=n("6938d226fd372a75cbf9"),h=(n("8a2d1b95e05b6a321e74"),n("be638c054224589367e1")),m=n.n(h),y=n("d4df020feb07c4f688e4"),v=n.n(y),g=n("b02fe3f80d4238b52f20"),S=n.n(g),C=n("cfb02eb836b80521726b"),R=(n("e231421589ab09ce8408"),n("4cad7676f6ad23a52c95"));function k(e){return(k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,n,a){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={children:void 0}),t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});if(1===r)t.children=a;else if(r>1){for(var s=new Array(r),c=0;c<r;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,A=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],T=O(m.a,{label:"Non Active",color:"secondary"}),D=O(m.a,{label:"Non Active",color:"secondary"}),P=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return o=this,a=(e=E(t)).call.apply(e,[this].concat(r)),n=!a||"object"!==k(a)&&"function"!==typeof a?x(o):a,I(x(x(n)),"getMuiTheme",function(){return Object(b.createMuiTheme)({overrides:{MUIDataTableBodyCell:{root:{paddingTop:4,paddingRight:24,paddingLeft:24,paddingBottom:4,"&:nth-child(0)":{width:70}}}}})}),I(x(x(n)),"state",{columns:[{name:"",options:{filter:!0,customBodyRender:function(e){var t=new Date(e);return O(S.a,{style:{width:72,height:72,display:"flex",fontSize:14,borderRadius:"50%",justifyContent:"center",alignItems:"center",borderWidth:3,textAlign:"center",backgroundColor:"#ffbe43",color:"#000"}},void 0,O(S.a,{style:{width:66,height:66,display:"flex",fontSize:16,flexDirection:"column",borderRadius:"50%",borderColor:"#0956e6",justifyContent:"center",alignItems:"center",fontWeight:"600",borderWidth:3,textAlign:"center",backgroundColor:"#fff",color:"#0956e6"}},void 0,O("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},void 0,t.getDate()),O("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},void 0,A[t.getMonth()])))}}},{name:"Name",options:{filter:!0}},{name:"Venue",options:{filter:!0}},{name:"Age Group",options:{filter:!0}},{name:"Format",options:{filter:!0}},{name:"Type",options:{filter:!0,customBodyRender:function(e){return"active"===e?O(m.a,{label:"Active",style:{backgroundColor:"#0745ba",color:"#fff"}}):"non-active"===e?T:O(m.a,{label:e,style:{backgroundColor:"#0745ba",color:"#fff"}})}}},{name:"Fee",options:{filter:!0,customBodyRender:function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}}},{name:"Status",options:{filter:!0,customBodyRender:function(e){return e?O(m.a,{label:"Active",color:"primary",style:{backgroundColor:"#0745ba",color:"#fff"}}):D}}},{name:"Actions",options:{filter:!0,customBodyRender:function(e){return O(C.a,{onChange:n.handleOpen,options:e})}}}]}),I(x(x(n)),"handleOpen",function(e){n.props.makeChange(e)}),I(x(x(n)),"renderTableRows",function(e,t){for(var n=Object(R.default)().subtract(1,"days").utc().format(),o=e.filter(function(e){return e.start_date<n}),a=e.filter(function(e){return e.start_date>=n}),i=0==t?a.reverse():1==t?o:"",r=[],l=[],s=0;s<i.length;s++){var c=i[s].status?"Disable Event":"Enable Event";r=[void 0===i[s].start_date?"":i[s].start_date,void 0===i[s].event.name?"":i[s].event.name,"Tiki Taka Kilpauk",void 0===i[s].format.age_category?"":i[s].format.age_category,void 0===i[s].format.format?"":i[s].format.format,void 0===i[s].format.game_type?"":i[s].format.game_type,void 0===i[s].format.entry_fee?"":i[s].format.entry_fee,void 0===i[s].status?"":i[s].status,[{text:"Edit Event",id:i[s]._id},{text:"Delete Event",id:i[s]._id},{text:c,id:i[s]._id}]],l.push(r)}return l}),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,i.a.Component),n=t,(o=[{key:"render",value:function(){var e=this.state,t=e.columns,n=(e.data,this.props.classes),o=this.props.data;return O("div",{className:n.table,style:{marginTop:4}},void 0,O(b.MuiThemeProvider,{theme:this.getMuiTheme()},void 0,O(v.a,I({style:{borderRadius:0},title:"Event Table",data:this.renderTableRows(o,this.props.value),columns:t,options:{filterType:"dropdown",responsive:"stacked",print:!0,onCellClick:function(e,t){},rowsPerPage:10,page:1}},"options",{selectableRows:!1}))))}}])&&w(n.prototype,o),a&&w(n,a),t}(),N=Object(b.withStyles)(function(e){return{table:{"& > div":{borderRadius:0,marginTop:-4,overflow:"auto"},"& table":I({minWidth:500},e.breakpoints.down("md"),{"& td":{height:40}})}}})(P),M=n("bd183afcc37eabd79225"),B=n.n(M),U=n("2e664e825c5258d5f3e4"),J=n("2a04bb3d72665a09123e"),W=n("f84a5334c4512e25b746"),z=n.n(W),F=n("031191083d7a21fda934"),G=n.n(F);function L(e){return(L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,o){_||(_="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var r in a)void 0===t[r]&&(t[r]=a[r]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=new Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function X(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={headers:{"Content-Type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjNTc0MGUxY2Y1OTdjMjg0NWFkMGM3MiIsInVzZXJuYW1lIjoia2lzaG9yZSIsInJvbGUiOiJzdXBlcl9hZG1pbiIsImlhdCI6MTU1NDIyODU5Mn0.eN0zGcfwqxjzAwJjlrcLLn9oNbdOprLQRVNybcjn8R0"}},K=V(d.a,{activeUsers:"activeUsers"}),Q=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return o=this,a=(e=$(t)).call.apply(e,[this].concat(r)),n=!a||"object"!==L(a)&&"function"!==typeof a?Y(o):a,Z(Y(Y(n)),"state",{open:!1,data:[],option:{},openSnack:!1,scroll:"paper",editData:{},value:0}),Z(Y(Y(n)),"handleClickOpen",function(e){return function(){n.setState({open:!0,scroll:e})}}),Z(Y(Y(n)),"onChange",function(e){var t=Y(Y(n));n.setState({option:e,openSlide:!0},function(){"Edit Event"===e.text&&n.setState({open:!0,scroll:scroll},function(){var n=e.id;B.a.put("http://159.65.146.12:3040/api/admin/edit_event/".concat(n),{sponsored:"Vivo"},q).then(function(e){t.setState({editData:e.data.data})}).catch(function(e){console.log("AXIOS ERROR: ",e)})})})}),Z(Y(Y(n)),"handleChange",function(e,t){n.setState({value:t})}),Z(Y(Y(n)),"handleClickOpenSlide",function(){n.setState({openSlide:!0})}),Z(Y(Y(n)),"handleCloseSlide",function(e,t){if(n.setState({openSlide:!1}),n.makeApiCall(),"Disable Event"===t){var o="Event "+e.data.data.event.name+" event disabled successfully";n.setState({openSnack:!0,msg:o})}else if("Enable Event"===t){var a="Event "+e.data.data.event.name+" event enabled successfully";n.setState({openSnack:!0,msg:a})}else if("Delete Event"===t){n.setState({openSnack:!0,msg:"Event deleted"})}}),Z(Y(Y(n)),"handleClose",function(e){if(n.setState({open:!1,openSlide:!1}),n.makeApiCall(),console.log("res",e),e&&e.data&&"event added"===e.data.message){var t="Event "+e.data.data.event.name+" created successfully";n.setState({openSnack:!0,msg:t})}else if(e&&e.data&&"event edited"===e.data.message){var o="Event "+e.data.data.event.name+" edited successfully";n.setState({openSnack:!0,msg:o})}}),Z(Y(Y(n)),"handleCloseSnack",function(e,t){"clickaway"!==t&&n.setState({openSnack:!1})}),Z(Y(Y(n)),"makeApiCall",function(){B.a.post("http://159.65.146.12:3040/api/admin/event",{},q).then(function(e){n.setState({data:e.data.data,editData:""})}).catch(function(e){console.log("AXIOS ERROR: ",e)})}),Z(Y(Y(n)),"deleteEvent",function(e,t){B.a.delete("http://159.65.146.12:3040/api/admin/delete_event/"+t,q).then(function(t){console.log("RESPONSE RECEIVED: ",t.data.data),n.handleCloseSlide(t,e)}).catch(function(e){console.log("AXIOS ERROR: ",e.response)})}),Z(Y(Y(n)),"disableEvent",function(e,t){var o="Disable Event"!==e;B.a.put("http://159.65.146.12:3040/api/admin/edit_event/".concat(t),{status:o},q).then(function(t){n.handleCloseSlide(t,e),n.makeApiCall()}).catch(function(e){console.log("AXIOS ERROR: ",e)})}),n}var n,o,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.makeApiCall()}},{key:"render",value:function(){var e=s.a.name+" - Events",t=s.a.desc,n=this.props,o=n.classes;n.theme;return V("div",{},void 0,V(r.Helmet,{},void 0,V("title",{},void 0,e),V("meta",{name:"description",content:t}),V("meta",{property:"og:title",content:e}),V("meta",{property:"og:description",content:t}),V("meta",{property:"twitter:title",content:e}),V("meta",{property:"twitter:description",content:t})),V(c.g,{desc:" "},void 0,V(p.a,{style:{position:"absolute",zIndex:1,right:56,top:242,backgroundColor:"#0956e6"},variant:"contained",color:"secondary",onClick:this.handleClickOpen("paper")},void 0,"+ Event"),K,V("div",{style:{marginBottom:100,marginTop:100}}),V("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"30px",fontWeight:"600",color:"#6d6d6d",fontSize:"16px",letterSpacing:"0.67px",lineHeight:"22px"}}),V("div",{className:o.root},void 0,V(z.a,{value:this.state.value,onChange:this.handleChange,classes:{root:o.tabsRoot,indicator:o.tabsIndicator}},void 0,V(G.a,{disableRipple:!0,classes:{root:o.tabRoot1,selected:o.tabSelected},label:"UPCOMING",style:{borderBottomLeftRadius:0}}),V(G.a,{disableRipple:!0,classes:{root:o.tabRoot1,selected:o.tabSelected},label:"PAST"})),0==this.state.value&&V(N,{data:this.state.data,makeChange:this.onChange,value:this.state.value}),1===this.state.value&&V(N,{data:this.state.data,makeChange:this.onChange,value:this.state.value}))),V(U.a,{open:this.state.openSlide,data:this.state.option,deleteObject:this.deleteEvent,disableObject:this.disableEvent,handleClickOpenSlide:this.handleClickOpenSlide,handleCloseSlide:this.handleCloseSlide}),V(f.a,{type:"event",handleClose:this.handleClose,open:this.state.open,scroll:this.state.scroll,handleClickOpen:this.handleClickOpen,editData:this.state.editData}),V(J.a,{openSnack:this.state.openSnack,handleClose:this.handleCloseSnack,msg:this.state.msg}))}}])&&X(n.prototype,o),a&&X(n,a),t}();t.default=Object(b.withStyles)(function(e){return{root:{flexGrow:1},tabsRoot:{flex:1,maxWidth:"500px",borderRadius:"0"},tabRoot1:{borderBottomLeftRadius:"-13px",borderTopLeftRadius:"7px",borderTopRightRadius:"7px",backgroundColor:"#fff",display:"flex",flex:1,marginRight:"13px",marginLeft:"2px"},tabsIndicator:{borderBottomRightRadius:"0",backgroundColor:"transparent",color:"rgba(0, 0, 0, 0.87)",fontSize:"13px",fontFamily:["Roboto","Helvetica","Arial","sans-serif"]},tabRoot:{borderBottomRightRadius:"0",textTransform:"initial",minWidth:72,fontWeight:e.typography.fontWeightRegular,marginRight:4*e.spacing.unit,fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:hover":{color:"#40a9ff",opacity:1},"&$tabSelected":{color:"#1890ff",fontWeight:e.typography.fontWeightMedium},"&:focus":{color:"#40a9ff"}},tabSelected:{borderBottom:"#03A9F4"}}})(Q)}}]);